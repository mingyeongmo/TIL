# 변수의 유효 범위

---

## 전역 유효 범위와 지역 유효 범위

변수에 접근할 수 있는 범위를 그 변수의 **유효 범위**라고 합니다.  
유효 범위를 결정 하는 방법에는 두 가지가 있습니다. 하나는 프로그램의 구문만으로 유효 범위를 정하는 **어휘적 범위**, 남은 하나는 프로그램 실행 중에 유효 범위를 정하는 **동적 범위**입니다.
자바스크립트는 어휘적 범위를 채택하고 있습니다.  
변수는 변수의 유효 범위에 따라 두가지로 나뉘는데, 하나는 **전역 변수** 남은 하나는 **지역 변수**입니다.

### 전역변수

는 함수 바깥에서 선언된 변수로 유효 범위가 전체 프로그램입니다.

### 지역변수

는 함수 안에서 선언된 변수와 함수 인자로 유효 범위는 변수가 선언된 함수 내부입니다. 예를 들면 다음과 같다.

```
var a = "global";
function f( ){
    var a = "local";
    console.log(a); // -> "global"
    return b;
}
f();
console.log(b); // b is not defined
```

a는 전역 변수입니다.  
전역 변수의 유효 범위는 전체 프로그램이므로 변수 a는 함수 f 내부에서도 유효합니다.  
따라서 함수 f 안에서도 변수 a 값을 읽거나 수정할 수 있습니다.  
반면 변수 b는 함수 f 안에서만 유효한 지역 변수 입니다.  
따라서 함수 f 바깥에서 변수 b를 읽으려고 시도하면 참조 오류가 발생합니다.

---

## 변수의 충돌

변수에 유효 범위가 있는 이유는 프로그램의 다른 부분에서 선언된 이름이 같은 변수와 충돌하지 않도록 하기 위해서입니다.  
다른 함수 내부에서 선언된 각각의 지역 변수는 모두 선언된 함수 내부에서만 유효하므로 이름이 같아도 충돌하지 않습니다. 덕분에 함수 안에서 변수 이름을 지을때는 다른 함수 안에서 사용하는 변수 이름까지 신경 쓸 필요가 없습니다.

---

## 함수 안에서의 변수 선언과 변수 끌어올림

함수 안에서 선언된 지역 변수의 유효 범위는 함수 전체입니다.  
함수 중간 부분에서 변수를 선언하더라도 변수는 함수 첫머리에서 선언된 것처럼 함수 안의 다른 문장보다 먼저 생성됩니다.  
즉, 자바스크립트 엔진은 함수 안의 변수 선언부를 함수의 첫머리로 끌어올립니다.

---

## 함수 안에서의 변수 선언 생략

어떤 곳에 쓰든 선언하지 않으면 전역 변수가 되므로 프로그램 어느 위치에서든지 사용 가능하다.
