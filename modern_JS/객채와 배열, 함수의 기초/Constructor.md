# 생성자로 객체 생성하기

---

### 간단한 예

다음 코드는 트럼프 카드를 표현하는 객체를 생성하는 생성자입니다.

```
function Card(suit, rank){
    this.suit = suit;
    this.rank = rank;
}
```

생성자로 객체를 생성할 떄는 **new 연산자**를 사용합니다.

var card = `new` Card("하트","A");

이 코드를 실행하면 suit 프로퍼티에는 "하트", rank 프로퍼티에는 "A"라는 값이 저장된 객체가 생성되고, 마지막으로 그 객체의 참조가 변수 card에 할당됩니다.

`console.log(card); // -> Card {suit: "하트", rank: "A"}`

이때 Card 생성자로 객체를 Card 객체라고 부릅니다. console.log로 객체를 출력하면 앞에 생성자 이름이 표시됩니다.

### 생성자

앞의 예처럼 new 연산자로 객체를 생성할 것이라 기대하고 만든 함수를 생성자라고 부릅니다. 생성자 이름은 관례적으로 그것이 생성자임을 알리기 위해 첫 글자를 대문자로 쓰는 파스칼 표기법을 사용합니다. 생성자 안에서 **this.프로퍼티 이름**에 값을 대입하면 그 이름을 가진 프로퍼티에 값이 할당된 객체가 생성됩니다. 이때 this는 생성자가 생성하는 객체를 가리킵니다. 앞의 예는 다음과 같이 객체 리터럴로 고쳐 쓸 수 있습니다.

```
var card = {};
card.suit = "하트";
card.rank = "A";
```

생성자와 new 연산자로 생성한 객체를 그 생성자의 인스턴스라고 부릅니다.인스턴스에는 **실체**라는 뜻이 있습니다. 객체 지향 언어에서 인스턴스는 클래스로 생성한 실체를 뜻합니다. 이때 클래스는 객체를 실체로 만들기 위한 설계도고 그 설계도로 생성한 실체가 바로 인스턴스입니다. 자바스크립트에는 클래스가 없습니다. 생성자 자체가 함수 객체라는 실체입니다. 따라서 자바스크립트 생성자로 생성한 객체는 엄밀히 말해 인스턴스가 아닙니다. 하지만 생성자가 클래스처럼 객체를 생성하는 역할을 담당하고 있으므로 생성자로 생성한 객체도 인스턴스라고 부르는 것이 관례입니다.

### 생성자의 역할

생성자는 객체를 생성하고 초기화하는 역할을 합니다. 생성자를 사용하면 이름은 같지만 프로퍼티 값이 다른 객체(인스턴스) 여러 개를 간단히 생성할 수 있습니다.

다음 예제는 생성자 Card를 사용하여 트럼프 카드를 표현하는 객체를 생성하고 변수 여러 개에 저장합니다.

```
var card1 = new Card("하트", "A");
var card2 = new Card("클럽", "K");
var card3 = new Card("스페이드", "2");
```

이처럼 생성자를 사용하면 이름은 같지만 프로퍼티 값이 다른 객체 여러 개를 효율적으로 생성할 수 있습니다.

생성자는 함수이므로 프로퍼티에 값을 대입할 수 있습니다. 다른 함수와 마찬가지로 다양한 처리를 할 수도 있습니다. 이를 활용하면 객체를 생성할 때 초기화 작업을 병행할 수 있습니다. 예를 들어 다음 함수 Particle은 좌표와 속도를 가진 좌표평면 위에 파티클을 표현하는 객체를 생성하는 생성자입니다.

```
function Particle(x, y, vx, vy){
    this.x=  x;
    this.y = y;
    this.vx = vx;
    this.vy = vy;
    this.velocity = Math.sqrt(vx * vx + vy * vy);
}
var p = new Particle(0, 0, 3, 4);
console.log(p); // -> Particle {x:0, y:0, vx:3, vy:4, velocity:5}
```

이 코드에서는 좌푯값(x,y)과 속도 벡터(vx,vy) 외에도 속도 velocity를 계산해서 프로퍼티에 추가합니다.
